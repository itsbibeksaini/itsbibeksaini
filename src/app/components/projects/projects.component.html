<div class="container-fluid h-100 p-0" fxLayout="column">
    <header fxFlex="80px" class="padding2030">
        <span class="mat-display-1">Projects</span>
        <hr>
    </header>

    <div fxFlex class="container-fluid padding2030" fxLayoutAlign="center">
        <custom-list fxFlex="240px" fxFlex.xs="300px" [ngClass]="{hideSideBar: hasSelectedProject}"></custom-list>
        
        <div fxFlex class="container-fluid p-0 project-details" fxLayout="column" *ngIf="hasSelectedProject">            
            <div fxFlex="40px" class="backButton" >
                <fa-icon [icon]="faArrowLeft" style="font-size: 21px;" class="pointer" (click)="backButton()"></fa-icon>                
            </div>
            <div fxFlex class="padding1015" style="overflow: hidden;overflow-y: auto;">                                
                <!-- Header -->
                <div>
                    <span class="mat-h1 display-block m-0">{{selectedProject.TITLE}}</span>
                    <span class="mat-small display-block m-0 ml-1">{{selectedProject.SUB_TITLE}}</span>                    
                </div>
                <!--Links-->
                <div class="mt-4">
                    <div *ngIf="selectedProject.PROJECT_STRUCTURE_LINK">
                        <a mat-raised-button color="primary"  [href]="selectedProject.PROJECT_STRUCTURE_LINK" target="_blank">
                            <fa-icon [icon]="faExternalLinkAlt" class="mr-1"></fa-icon>
                            Project documentation
                        </a>
                    </div>
                    
                    <div *ngIf="selectedProject.APP_LINK" class="mt-1">
                        <a mat-raised-button color="primary" [href]="selectedProject.APP_LINK" target="_blank">
                            <fa-icon [icon]="faExternalLinkAlt" class="mr-1"></fa-icon>
                            App link
                        </a>
                    </div>
                    <div *ngIf="selectedProject.REPO_LINK" class="mt-1">
                        <a mat-raised-button color="primary" [href]="selectedProject.REPO_LINK" target="_blank">
                            <fa-icon [icon]="faGithub" class="mr-1"></fa-icon>
                            Visit repository
                        </a>
                    </div>
                </div>
                <div  class="mt-1">
                    
                </div>
                <div>
                    <hr>
                </div>
                <!-- Description -->
                <div>
                    <span class="mat-h2 display-block m-0">Description</span>
                    <hr>
                    <span>
                        {{selectedProject.DESCRIPTION}}
                    </span>
                    <div *ngIf="selectedProject.ARCHITECTURE_DIAGRAM" class="architecture-diagram" style="">
                        <img [src]="selectedProject.ARCHITECTURE_DIAGRAM">
                    </div>
                    <hr>
                </div>
                <!-- Tech used -->
                <div *ngIf="selectedProject.TECH_USED.length > 0">
                    <span class="mat-h2 display-block m-0">Tech used</span>
                    <hr>
                    <div class="container-fluid" fxLayout="row wrap">
                        <div fxFlex="50px" class="p-1 skill" *ngFor="let skill of selectedProject.TECH_USED">
                            <img src="{{skill.IMAGE}}" matTooltip="{{skill.TITLE}}" matTooltipPosition="below">
                        </div> 
                    </div>
                    <hr>
                </div>
                <!-- Gallery -->
                <div *ngIf="selectedProject.GALLERY.length > 0">
                    <span class="mat-h2 display-block m-0">Gallery</span>
                    <hr>
                        <div class="container-fluid" fxLayoutAlign="center">
                            <div fxFlex="500px" fxFlex.sm="100%" fxFlex.xs="100%" style="border-radius: 0.25rem;">
                                <!-- <img src="assets/projects/taskmanager/tm_microservices.png" style="width: 100%;border-radius: 0.25rem;"> -->
                                <ngb-carousel *ngIf="images">
                                    <ng-template ngbSlide *ngFor="let image of selectedProject.GALLERY">
                                        <div class="picsum-img-wrapper">
                                            <img [src]="image.IMAGE" style="width: 100%;border-radius: 0.25rem;" alt="Random first slide">
                                        </div>
                                        <!-- <div class="carousel-caption">
                                            <h3 class="{{image.PLACEHOLDER_COLOR}}">{{image.PLACEHOLDER}}</h3>                                            
                                        </div> -->
                                    </ng-template>
                                </ngb-carousel>
                            </div>
                        </div>
                    <hr>
                </div>
            </div>
        </div>

        <div fxFlex class="text-center position-relative select-project-illustration" *ngIf="!hasSelectedProject">            
            <div fxFlex="500px" fxFlex.sm="380px" class="centralize"  style="transition: all 0.2s ease-in-out;">
                <img src="assets/illustrations/select-item.svg" class="animate__animated animate__zoomIn animate__faster">
                <span class="mat-h1">Select project to view details</span>
            </div>
            
        </div>
        
    </div>
</div>